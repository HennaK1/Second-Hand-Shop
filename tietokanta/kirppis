CREATE TABLE User
(
    UserName VARCHAR(60) NOT NULL,
    Password VARCHAR(60) NOT NULL,
    FirstName VARCHAR(60) NOT NULL,
    LastName VARCHAR(60) NOT NULL,
    Email VARCHAR(60) NOT NULL,
    ProfilePicture VARCHAR(60) NOT NULL,
    Bio VARCHAR(60) NOT NULL,
    Role INT NOT NULL, DEFAULT 1,
    PRIMARY KEY (UserName)
);

CREATE TABLE Chat
(
    ChatId INT NOT NULL AUTO_INCREMENT,
    PRIMARY KEY (ChatId)
);

CREATE TABLE Category
(
    CategoryId INT NOT NULL AUTO_INCREMENT,
    CategoryName VARCHAR(60) NOT NULL,
    PRIMARY KEY (CategoryId)
);

CREATE TABLE ChatMessage
(
    MessageText VARCHAR(60) NOT NULL,
    MessageOrder INT NOT NULL,
    ChatId INT NOT NULL AUTO_INCREMENT,
    PRIMARY KEY (MessageOrder, ChatId),
    FOREIGN KEY (ChatId) REFERENCES Chat(ChatId)
);

CREATE TABLE UserChat
(
    ChatId INT NOT NULL AUTO_INCREMENT,
    UserName VARCHAR(60) NOT NULL,
    PRIMARY KEY (ChatId, UserName),
    FOREIGN KEY (ChatId) REFERENCES Chat(ChatId),
    FOREIGN KEY (UserName) REFERENCES User(UserName)
);

CREATE TABLE Product
(
    ProductId INT NOT NULL AUTO_INCREMENT,
    gps VARCHAR(60) NOT NULL,
    Price INT NOT NULL,
    Caption VARCHAR(60) NOT NULL,
    LikeCount INT NOT NULL,
    image_location VARCHAR(128) NOT NULL,
    UserName VARCHAR(60) NOT NULL,
    CategoryId INT NOT NULL,
    ProductOwner VARCHAR(60) NOT NULL,
    PRIMARY KEY (ProductId),
    FOREIGN KEY (UserName) REFERENCES User(UserName),
    FOREIGN KEY (CategoryId) REFERENCES Category(CategoryId)
);

CREATE TABLE Comment
(
    CommentId INT NOT NULL AUTO_INCREMENT,
    CommentText VARCHAR(60) NOT NULL,
    UserName VARCHAR(60) NOT NULL,
    ProductId INT NOT NULL,
    PRIMARY KEY (CommentId),
    FOREIGN KEY (UserName) REFERENCES User(UserName),
    FOREIGN KEY (ProductId) REFERENCES Product(ProductId)
);

CREATE TABLE Likes
(
    UserName  VARCHAR(60) NOT NULL,
    ProductId INT         NOT NULL,
    PRIMARY KEY (UserName, ProductId),
    FOREIGN KEY (UserName) REFERENCES User (UserName),
    FOREIGN KEY (ProductId) REFERENCES Product (ProductId)
);